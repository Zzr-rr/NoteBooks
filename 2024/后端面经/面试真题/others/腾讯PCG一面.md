## 什么是RESTful风格

Restful风格是基于Http协议的Web API的软件架构风格，是目前主流Web软件开发遵循的原则。

Restful的设计原则遵循以下几点：基于资源、使用Http动词、无状态、统一接口、可缓存性和分层系统。



## GET和POST区别，什么是幂等

GET请求携带的参数一般在url上，一般用于对资源的**请求**时会发送GET请求。

因为参数直接暴露在URL上面，因此一般不用于敏感信息的传输，同时传输的长度是有一定的限制的，GET请求是可以被缓存的。

POST请求携带的数据一般在请求的参数体中，一般用于**信息的提交**，比如说登录信息的提交，表单信息的提交等。

POST请求**不能被缓存**，发送的**数据长度没有限制**。

幂等

对于一个矩阵A，$A^2=A$。

对于HTTP方法的上下文中，它指的是一次请求和多次请求之间得到的**返回的效果相同**。

幂等的请求方法一般有：get, put, delete, head。 非幂等的一般是:post。



## HTTPS如何加密

HTTPS全称是HyperText Transfer Protocol over Secure Socket Layer，即基于安全套接层的超文本传输协议。

HTTPS = HTTP + TLS/SSL，SSL：Secure Sokcet Layer，安全套接字层。 TLS：Transport Layer Security，传输层安全。

1. 客户端首先向服务端发送一个Client Hello的请求。
2. 服务器端收到Client Hello后，向客户端发送Server Hello并且发送一个SSL证书。
3. 客户端在收到证书后会对证书进行解析，查看是否是正确的证书。
   - 浏览器读取证书中的所有者、有效期等信息进行一一校验。
   - 浏览器与内置的受信任的证书发布机构CA进行比对，查看是否正确。
   - 找到后浏览器对发送的证书使用hash算法计算hash值，查看是否与签名中的hash值相同。
   - 对比一致后，浏览器后续就使用该证书。
4. 通过证书中的公钥，客户端告知服务端后续对话采用的加密算法，密钥等信息，后续就采用服务端收到的信息进行加密通话。



## TCP和UDP的区别

TCP是有状态的、可靠的网络层协议，比较适合用于对**信息丢失敏感**的应用场景，比如说文件的下载、网页浏览、邮件传输等。

TCP协议的通信需要首先进行三次握手来确保客户端和服务端保持连接状态，同时在数据发送的过程中可能会有多种重发确认的机制来确保消息的可靠传输。

TCP是有**数据流控制**的相关操作的。

UDP是无状态的、不可靠的网络层协议，比较适合用于对**信息丢失不敏感**的应用场景，比如观看视频、语音通话、游戏应用等。

UDP的传输是**不保证传输的完整性**的，同时客户端可能需要对传输过来的数据进行相应的整理。

UDP不存在**数据流控制**，一般来说是不管客户端的接受能力如何，都会直接发送过去。



## TCP可靠传输，最大序列号确认

TCP使用32位的序列号，这意味着序列号的最大值是$2^{32}-1$，当序列号达到最大值的时候，TCP的序列号会回环到0，这种情况叫做序列号的回绕。

在序列号回绕的情况下，TCP通过维护一个“序列号空间”的概念来保持可靠性，尽管在物理上看起来数据是乱序的，但其逻辑上能够保证数据的可靠性。

TCP的可靠传输主要靠以下几点保证：滑动窗口控制流量、序列号保证数据的有序、确认应答。



## Linux上的进程服务CPU问题排查(pprof)

通过**top指令**来查看使cpu飙高的进程。

**CPU Profile**工具：gprof, perf, callgrind等。

也可以通过**strace**来跟踪应用的进程。

查看`/var/log`目录下的进程日志文件。



## 内存OOM问题排查修复(dmesg)

首先确认oom的事件，查看`/var/log/message`或者`/var/log/syslog`下的日志文件。

使用**dmesg**来查看内核环缓冲区的消息，包括**OOM Killler**的活动记录。

同样也可以通过top命令来对一些应用进行一些排查。



## 慢SQL，索引数据结构，回表

查询超过某个时间的SQL语句我们就把他称为是慢sql，一般设置为1-10秒，通过`show variables like "long%"`能够查看`long_query_time`这个属性来进行设置。

索引的数据结构是B+树。

回表的操作指的是通过辅助索引（二级索引）查询到相关记录的主键索引或指针后，再利用这些信息回到主索引或者数据表本身进行查询，以获取所需要的所有信息。

一般来说设计数据库表的时候通过覆盖索引来尽量避免回表的操作。



## where、group by、order by、limit执行顺序

where，group by，order by，limit。



## Redis常用的数据类型

String，List，Hashmap，Set，Zset。



## Hash常见的扩容方法

倍增扩容、开放寻址法、一致性哈希。



## ZSet底层数据结构

压缩列表或者跳表。