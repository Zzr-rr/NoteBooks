基本流程是什么

客户端 服务器端

**服务器端**

在服务器启动类上添加处理器，首先拿到客户端传过来的信息，对输入的数据进行处理，然后编写业务逻辑，成功/失败，都需要一个提示信息(这些东西都可以封装成一个类 进行交互)，最后把信息写入管道之中。 

如果失败了，就需要关闭通道，然后在关闭通道时进行同步等待监听，优雅的关闭EventLoopGroup。

大体的框架是相同的，但是需要定义很多的Handler。

发送消息就是靠channel来做的。

**客户端**

可以在启动的时候构造需要发送过去的消息，消息用我们的协议进行编码，包括序列化后的信息。服务器连接成功后可以发过去了。



请求消息 封装需要

**请求消息**

请求接口，请求方法名，请求参数类型数组，参数值数组

**相应消息**

返回值 响应值



**接受信息**

准备一个空的Promise对象，用来接受结果。

```
DefaultPromise<?> promise = new DefaultPromise<>(getChannl().eventLoop());
然后记录数据
promise.await(); // 将来结果成功/失败
if(promise.isSucess()){
	// return promise.getNow();
}
else throw
```



